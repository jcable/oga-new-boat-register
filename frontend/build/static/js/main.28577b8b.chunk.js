(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{165:function(e){e.exports=JSON.parse('{"domain":"dev-uf87e942.eu.auth0.com","clientId":"4EJ51KQe50DOn5fRAmk3M3EdVF6qT8oq"}')},263:function(e,a,t){e.exports=t(472)},268:function(e,a,t){},270:function(e,a,t){},472:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(66),o=t.n(l),i=(t(268),t(269),t(270),t(167)),c=t(484),u=t(253),s=t(492),m=t(493),d=function(){return r.a.createElement(i.a,{vertical:!0,style:{padding:"5em 0em",color:"white",backgroundColor:"#002E50"}},r.a.createElement(c.a,null,r.a.createElement(u.a,{divided:!0,stackable:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:3},r.a.createElement(s.a,{inverted:!0,as:"h4",content:"Links"}),r.a.createElement(m.a,{link:!0,inverted:!0},r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Content,null,r.a.createElement("a",{href:"https://www.oga.org.uk/about/contact-oga"},"Contact Us"))),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Content,null,r.a.createElement("a",{href:"https://www.oga.org.uk"},"Main Site"))),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Content,null,r.a.createElement("a",{href:"https://www.oga.org.uk/boats-for-sale"},"Sell your boat"))),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Content,null,r.a.createElement("a",{href:"http://www.sailing-by.org.uk/Sailing By"},"Sailing By"))))),r.a.createElement(u.a.Column,{width:10},r.a.createElement(s.a,{inverted:!0,as:"h4"},"The Friendly Association"),r.a.createElement("p",null,"Everyone is welcome in the OGA. If you love our boats and think you might want to own one come to one of our events. We offer crewing opportunities on small and larger boats. We are happy to share our thoughts on the pitfalls to avoid when buying a boat. Membership has been a life-changing experience for more than one of our members."))))))},h=t(166),g=t(475),f=t(54),p=function(){return r.a.createElement(i.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(u.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:8},r.a.createElement(s.a,{as:"h3",style:{fontSize:"2em"}},"People like you"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"We are a group of ordinary people with a love of sailing."),r.a.createElement(s.a,{as:"h3",style:{fontSize:"2em"}},"Life's too short for a boring boat"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Some of our boats are over 100 years old. Others are being built in our garages.")),r.a.createElement(u.a.Column,{floated:"right",width:6},r.a.createElement(h.a,{bordered:!0,rounded:!0,size:"large",src:"https://www.oga.org.uk/sites/default/files/picnic-shade-aldeburgh-sfoxall.jpeg"}))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{textAlign:"center"},r.a.createElement(g.a,{size:"huge"},r.a.createElement(f.A,{href:"/browse"},"Check out our boats ..."))))))},b=t(27),E=t(494),v=t(485),y=t(49),_=function(e){var a=e.mobile;return r.a.createElement(c.a,null,r.a.createElement(s.a,{as:"h1",content:"Celebrate your heritage",inverted:!0,style:{fontSize:a?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:a?"1.5em":"3em"}}),r.a.createElement(c.a,{content:"A home for traditionally rigged yachts and working craft.",className:"Br-hero-sub"}),r.a.createElement(g.a,{primary:!0,size:"huge"},r.a.createElement(f.A,{href:"/browse"},r.a.createElement("span",{style:{color:"white"}},"Let's Look at some boats ..."),r.a.createElement(y.a,{name:"right arrow",style:{color:"white"}}))))},w=t(251),C=t(40),O=t.n(C),k=t(252),S=t(231),j=t.n(S),T=function(){return window.history.replaceState({},document.title,window.location.pathname)},x=r.a.createContext(),P=function(){return Object(n.useContext)(x)},B=function(e){var a=e.fixed,t=P(),n=t.isAuthenticated,l=t.loginWithRedirect,o=t.logout,u=t.user;return r.a.createElement(i.a,{style:{backgroundColor:"#002E50"}},r.a.createElement(w.a,{fixed:a?"top":null,inverted:!a,pointing:!a,secondary:!a,size:"large"},r.a.createElement(h.a,{src:"https://www.oga.org.uk/sites/all/themes/boat_register/logo.png"}),r.a.createElement(c.a,null,r.a.createElement(w.a.Item,null,r.a.createElement(f.A,{href:"/"},"Home")),r.a.createElement(w.a.Item,null,r.a.createElement(f.A,{href:"/browse"},"Search")),r.a.createElement(w.a.Item,{as:"a"},"For Sale"),r.a.createElement(w.a.Item,{as:"a"},"Join In"),r.a.createElement(w.a.Item,{position:"right"},!n&&r.a.createElement(g.a,{as:"button",onClick:function(){return l({})},inverted:!a},"Log in"),n&&r.a.createElement(g.a,{as:"button",inverted:!a,onClick:function(){return o()}},"Log out ",u.given_name),r.a.createElement(g.a,{as:"a",inverted:!a,primary:a,style:{marginLeft:"0.5em"}},"Sign Up")))))};var R=function(e){var a=e.children,t=Object(n.useState)(!1),l=Object(b.a)(t,2),o=l[0],c=l[1];return r.a.createElement(E.a,{minWidth:E.a.onlyTablet.minWidth},r.a.createElement(B,{fixed:o}),r.a.createElement(v.a,{style:{backgroundImage:"url('https://oga.org.uk/sites/default/files/boat_images/alando_0.jpg')",backgroundSize:"800px"},once:!1,onBottomPassed:function(){return c(!0)},onBottomPassedReverse:function(){return c(!1)}},r.a.createElement(i.a,{textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},r.a.createElement(_,null))),a)},I=function(e){var a=e.children;return r.a.createElement("div",null,r.a.createElement(R,null,a))},L=function(){return Object(n.useEffect)((function(){document.title="OGA Boat Register"})),r.a.createElement(I,null,r.a.createElement(p,null),r.a.createElement(d,null))},z=t(39),F=t(48),M=t(30),A=t(32),N=t.n(A),W=t(126),H=t(127),D=t(249),Y=t(486),G=t(36),U=function(e){var a=e.boat,t=e.labels;return J(a,t,(function(e,a,t){return r.a.createElement(D.a.Meta,{key:e},r.a.createElement("strong",null,a,": "),t)}))},J=function(e,a,t){var n=[];return K(n,0,e,a,t),n},K=function e(a,t,n,r,l){return Object.keys(n).forEach((function(o){if(n[o]&&r[o])if("object"===typeof n[o])t=e(a,t,n[o],r[o],l);else{var i=n[o];r[o].unit&&(i="".concat(i," ").concat(r[o].unit));var c=l(t++,r[o].label,i);a.push(c)}})),t},q=function(e){var a=e.boat,t=e.labels;return J(a,t,(function(e,a,t){return r.a.createElement(m.a.Item,{key:e,header:a,content:t})}))};function $(){var e=Object(z.a)(["{\n  boats(page:",", boatsPerPage:","\n    ","\n  ) {\n    totalCount\n    hasNextPage\n    hasPreviousPage\n    boats{\n      id\n      oga_no\n      name\n      image\n      short_desc\n      year_built\n      home_port\n      place_built\n      prev_name\n      builder{ name }\n      class{\n        name\n        designer{ name }\n      }\n    }\n  }\n}"]);return $=function(){return e},e}var V=function(e,a,t){return N()($(),e,a,function(e){var a="";return Object.keys(e).forEach((function(t){if(e[t])switch(a+=", ".concat(t,":"),t){case"oga_no":case"minYear":case"maxYear":case"reverse":case"has_images":case"for_sale":a+=e[t];break;default:a+='"'.concat(e[t],'"')}})),a}(t))},Q={place_built:{label:"Place Built"},home_port:{label:"Home Port"},class:{rigType:{label:"Rig Type"},designer:{name:{label:"Designer"}}},builder:{name:{label:"Builder"}},prev_name:{label:"Previous name(s)"}},X=function(e){var a=e.page,t=e.boatsPerPage,n=e.filters,l=e.onLoad,o=Object(G.a)(V(a,t,n)),u=o.loading,s=o.error,m=o.data;if(s)return r.a.createElement("p",null,"Error :(TBD)");if(u){if(!m)return r.a.createElement("p",null,"Loading...");console.log("Loading set but data here")}return l&&l(m.boats.totalCount),0===m.boats.totalCount?r.a.createElement(c.a,null,r.a.createElement("p",null,"There are no boats which match the filter criteria you have set. Try broadening the criteria."),r.a.createElement("p",null,"The criteria currently set are:"),r.a.createElement("p",null,"Boats",Object.keys(n).map((function(e){var a=n[e];if(a)switch(e){case"name":return" called "+a;case"rigType":return" with a rig type of "+a;case"sailType":return" with a sail type of "+a;case"minYear":return" built after the start of "+a;case"maxYear":return" built before the end of "+a;case"constructionMaterial":return" made of "+a;case"genericType":return" that are "+a+"s";case"designClass":return" that are "+a+" class boats";case"builder":return" built by "+a;case"designer":return" designed by "+a;case"has_images":return" with"+(a?"":"out")+" pictures";case"for_sale":return(a?" ":" not ")+"for sale";default:return""}return""})),".")):m.boats.boats.map((function(e){return r.a.createElement(D.a,{key:e.id,href:"/boats/"+e.oga_no},r.a.createElement(h.a,{src:e.image,wrapped:!0,ui:!1}),r.a.createElement(D.a.Content,null,r.a.createElement(D.a.Header,null,r.a.createElement(i.a.Group,{horizontal:!0},r.a.createElement(i.a,null,e.name," (",e.oga_no,")"),r.a.createElement(i.a,null),r.a.createElement(i.a,null,e.year_built))),r.a.createElement(D.a.Description,{dangerouslySetInnerHTML:{__html:e.short_desc}}),r.a.createElement(Y.a,null),r.a.createElement(U,{labels:Q,boat:e})))}))},Z=t(237),ee=t(488),ae=t(487);function te(){var e=Object(z.a)(["\n  mutation(\n    $name: String!\n    $class: String!\n  ) {\n    addBoat(\n      name: $name\n      class: $class\n      ) {\n      id\n    }\n  }\n"]);return te=function(){return e},e}var ne=N()(te()),re=new F.c({link:Object(H.a)({uri:"http://localhost:4000/graphql"}),cache:new W.a}),le=function(){return r.a.createElement(M.a,{client:re},r.a.createElement("div",null,r.a.createElement("h2",null,"Boat Register with Apollo ",r.a.createElement("span",{role:"img","aria-label":"apollo"},"\ud83d\ude80")),r.a.createElement(X,null),r.a.createElement(Z.Frontier,{mutation:ne,client:re,initialValues:{name:"Paddy",class:"Padstow Lugger"},resetOnSave:!1},(function(e){var a=e.state,t=e.modifiers,n=e.form;return r.a.createElement("form",{className:"ui form",onSubmit:function(e){console.log(a),console.log(t.name),console.log(t.class),a.dirty&&(n.submit(),alert("!"))}},r.a.createElement(ee.a.Field,null,r.a.createElement("label",{htmlFor:"name"},"Name*")," ",r.a.createElement("br",null),r.a.createElement(ae.a,{type:"text",name:"name",value:a.values.name,onChange:t.name.change}),a.errors.name&&r.a.createElement("p",null,'Error: "',a.errors.name,'"')),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{htmlFor:"name"},"Class*")," ",r.a.createElement("br",null),r.a.createElement(ae.a,{type:"text",name:"class",value:a.values.class,onChange:t.class.change}),a.errors.class&&r.a.createElement("p",null,'Error: "',a.errors.class,'"')),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Save",className:"ui button"})))}))))},oe=t(495),ie=t(233),ce=t(34),ue=t(489),se=t(490),me=t(45),de=t.n(me),he=function(e){var a=e.onSearchChange,t=e.onResultSelect,l=e.choices,o=e.label,i=e.value,c=Object(n.useState)([]),u=Object(b.a)(c,2),s=u[0],m=u[1],d=function(e,a){var n=a.result;console.log("handleResultSelect",n),t&&t(n.title)};return r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,o),r.a.createElement(se.a,{onResultSelect:function(e,a){return d(0,a)},minCharacters:3,onSearchChange:de.a.debounce((function(e,t){var n=t.value,r=new RegExp(n,"i"),o=l.filter((function(e){return Object.values(e).some((function(e){return e.match(r)}))}));m(o.map((function(e){return{title:e.name}}))),a&&a(n)}),500,{leading:!0}),results:s,value:i}))};function ge(){var e=Object(z.a)(["{designers{id name}}"]);return ge=function(){return e},e}function fe(){var e=Object(z.a)(["{builders{id name}}"]);return fe=function(){return e},e}function pe(){var e=Object(z.a)(["{boatNames}"]);return pe=function(){return e},e}for(var be="- Any -",Ee=[{key:"",text:be,value:be}],ve=[{key:"",text:be,value:be}],ye=[{key:"",text:be,value:be}],_e=[{key:"",text:be,value:be}],we=[{key:"",text:be,value:be}],Ce=[{key:"name",text:"Boat Name",value:"name"},{key:"oga_no",text:"OGA Boat No.",value:"oga_no"},{key:"built",text:"Year Built",value:"built"},{key:"updated",text:"Last Updated",value:"updated"}],Oe=[],ke=6;ke<=48;ke+=6)Oe.push({key:ke,text:"".concat(ke),value:ke});var Se=function(e){var a=e.onChange,t=e.onSearchChange,n=e.value,l=Object(G.a)(N()(pe())),o=l.loading,i=l.error,c=l.data;if(o)return r.a.createElement("p",null,"Loading...");if(i)return r.a.createElement("p",null,"Error :(TBD)");var u=c.boatNames.map((function(e){return{name:e}}));return r.a.createElement(he,{onResultSelect:a,onSearchChange:t,choices:u,label:"Boat Name (incl. previous names)",value:n})},je=function(e){var a=e.onChange,t=e.onSearchChange,n=e.value,l=Object(G.a)(N()(fe())),o=l.loading,i=l.error,c=l.data;return o?r.a.createElement("p",null,"Loading..."):i?r.a.createElement("p",null,"Error :(TBD)"):r.a.createElement(he,{onResultSelect:a,onSearchChange:t,choices:c.builders,label:"Builders Name",value:n})},Te=function(e){var a=e.onChange,t=e.onSearchChange,n=e.value,l=Object(G.a)(N()(ge())),o=l.loading,i=l.error,c=l.data;return o?r.a.createElement("p",null,"Loading..."):i?r.a.createElement("p",null,"Error :(TBD)"):r.a.createElement(he,{onResultSelect:a,onSearchChange:t,choices:c.designers,label:"Designers Name",value:n})},xe=function(e){var a=e.onReset,t=e.onUpdate,l=e.onPageSize,o=e.boatsPerPage,i=e.filters,c=Object(n.useState)(!1),u=Object(b.a)(c,2),s=u[0],m=u[1],d=Object(n.useState)(""),h=Object(b.a)(d,2),f=h[0],p=h[1],E=Object(n.useState)(""),v=Object(b.a)(E,2),y=v[0],_=v[1],w=Object(n.useState)(""),C=Object(b.a)(w,2),O=C[0],k=C[1],S=Object(G.a)(N()("{picLists{\n        rigTypes\n        sailTypes\n        classNames\n        genericTypes\n        constructionMaterials        \n    }}")),j=S.loading,T=S.error,x=S.data;if(j)return r.a.createElement("p",null,"Loading...");if(T)return r.a.createElement("p",null,"Error :(TBD)");Ee.length<=1&&(x.picLists.rigTypes.forEach((function(e){return Ee.push({key:e,text:e,value:e})})),x.picLists.sailTypes.forEach((function(e){return ve.push({key:e,text:e,value:e})})),x.picLists.classNames.forEach((function(e){return _e.push({key:e,text:e,value:e})})),x.picLists.genericTypes.forEach((function(e){return ye.push({key:e,text:e,value:e})})),x.picLists.constructionMaterials.forEach((function(e){return we.push({key:e,text:e,value:e})})));var P=function(e,a){var n=Object(ce.a)({},i);console.log("filterChanged",e,a,s),"sortBy"===e&&(n.reverse="updated"===a?!s:s),console.log("filterChanged to",n),"reverse"===e&&m(a),"builder"===e&&p(a),"designer"===e&&_(a),"name"===e&&k(a),n[e]=a===be?null:a,t&&t(n)};return console.log("filters",i),r.a.createElement(ee.a,null,r.a.createElement(ee.a.Group,{inline:!0},r.a.createElement(Se,{onChange:function(e){return P("name",e)},onSearchChange:function(e){return k(e)},value:O}),r.a.createElement(ee.a.Input,{size:"mini",label:"OGA Boat No.",type:"text",onChange:function(e,a){var t=a.value;return P("oga_no",t)},value:i.oga_no?i.oga_no:""}),r.a.createElement(Te,{onChange:function(e){return P("designer",e)},onSearchChange:function(e){return _(e)},value:y}),r.a.createElement(je,{onChange:function(e){return P("builder",e)},onSearchChange:function(e){return p(e)},value:f}),r.a.createElement(ee.a.Group,{inline:!0},r.a.createElement("label",null,"Year Built"),r.a.createElement(ee.a.Input,{onChange:function(e,a){var t=a.value;return P("minYear",t)},value:i.minYear,label:"between",type:"text"}),r.a.createElement(ee.a.Input,{onChange:function(e,a){var t=a.value;return P("maxYear",t)},value:i.maxYear,label:"and",type:"text"}))),r.a.createElement(ee.a.Group,{inline:!0},r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Rig Type"),r.a.createElement(ue.a,{onChange:function(e,a){var t=a.value;return P("rigType",t)},value:i.rigType?i.rigType:be,selection:!0,options:Ee})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Mainsail Type"),r.a.createElement(ue.a,{onChange:function(e,a){var t=a.value;return P("sailType",t)},value:i.sailType?i.sailType:be,selection:!0,options:ve})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Design Class"),r.a.createElement(ue.a,{search:!0,selection:!0,onChange:function(e,a){var t=a.value;return P("designClass",t)},value:i.designClass?i.designClass:be,options:_e})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Generic Type"),r.a.createElement(ue.a,{selection:!0,onChange:function(e,a){var t=a.value;return P("genericType",t)},value:i.genericType?i.genericType:be,options:ye})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Construction material"),r.a.createElement(ue.a,{selection:!0,onChange:function(e,a){var t=a.value;return P("constructionMaterial",t)},value:i.constructionMaterial?i.constructionMaterial:be,options:we}))),r.a.createElement(ee.a.Group,{inline:!0},r.a.createElement(ee.a.Radio,{onChange:function(e,a){var t=a.checked;return P("has_images",!t||null)},toggle:!0,label:"include boats without pictures"}),r.a.createElement(ee.a.Radio,{onChange:function(e,a){var t=a.checked;return P("for_sale",t)},toggle:!0,label:"only boats for sale"})),r.a.createElement(ee.a.Group,{inline:!0},r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Sort By"),r.a.createElement(ue.a,{selection:!0,onChange:function(e,a){var t=a.value;return P("sortBy",t)},value:i.sortBy,options:Ce})),r.a.createElement(ee.a.Radio,{onChange:function(e,a){var t=a.checked;return P("reverse",t)},toggle:!0,label:"reversed"}),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Boats Per Page"),r.a.createElement(ue.a,{selection:!0,onChange:function(e,a){var t,n=a.value;return t=n,void(l&&l(t))},value:o,options:Oe})),r.a.createElement(g.a,{onClick:function(){return a&&a(),p(""),_(""),void k("")},type:"reset"},"Reset")))},Pe={name:null,oga_no:null,rigType:null,sailType:null,minYear:1800,maxYear:(new Date).getFullYear(),designer:null,builder:null,designClass:null,genericType:null,constructionMaterial:null,has_images:!0,for_sale:null,sortBy:"name",reverse:null},Be=function(){Object(n.useEffect)((function(){document.title="Browse Boats"}));var e=Object(n.useState)(1),a=Object(b.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(12),i=Object(b.a)(o,2),u=i[0],m=i[1],h=Object(n.useState)(0),g=Object(b.a)(h,2),f=g[0],p=g[1],v=Object(n.useState)(Pe),y=Object(b.a)(v,2),_=y[0],w=y[1],C=function(e,a){l(a.activePage),console.log(a)},O=Math.ceil(f/u);return r.a.createElement(E.a,{minWidth:E.a.onlyTablet.minWidth},r.a.createElement(B,null),r.a.createElement(c.a,null,r.a.createElement(s.a,{as:"h1"},"Browse Boats"),r.a.createElement(s.a,{as:"h3"},"We have hundreds of boats with pictures and many more waiting for pictures and more information."),r.a.createElement(c.a,null,"Filter the list using the options below and then click on a boat for all the pictures and data we have for that boat.",r.a.createElement("p",null,"Know something we don't? We'd love to hear from you.")),r.a.createElement(xe,{onReset:function(){console.log("resetFilters from",_,"to",Pe),w(Pe)},onUpdate:function(e){console.log("filtersUpdated from",_,"to",e),w(e)},onPageSize:function(e){m(e)},filters:_,boatsPerPage:u})),r.a.createElement(Y.a,null),r.a.createElement(c.a,null,r.a.createElement(oe.a,{activePage:t,onPageChange:C,totalPages:O,ellipsisItem:null}),r.a.createElement(Y.a,{hidden:!0}),r.a.createElement(ie.a,{centered:!0},r.a.createElement(X,{page:t,filters:_,boatsPerPage:u,onLoad:function(e){p(e)}})),r.a.createElement(Y.a,{hidden:!0}),r.a.createElement(oe.a,{activePage:t,onPageChange:C,totalPages:O,ellipsisItem:null})),r.a.createElement(Y.a,{hidden:!0}),r.a.createElement(d,null))},Re=t(496),Ie=t(161);function Le(){var e=Object(z.a)(["{\n    handicap(id:",") {\n        oga_no\n        calculated_thcf\n        sailarea\n        fore_triangle_height\n        fore_triangle_base\n        no_head_sails\n        main{ luff head foot }\n        mizzen{ luff foot }\n        topsail{ luff perpendicular }\n    }\n}"]);return Le=function(){return e},e}var ze={header:"Sail area:",unit:"sq ft"},Fe={header:"Fore triangle height (I):",unit:" ft"},Me={header:"Fore triangle base (J):",unit:"ft"},Ae={header:"Calculated T(H)CF:",unit:""},Ne={header:"Mainsail head (G):",unit:"ft"},We={header:"Mainsail luff (H):",unit:"ft"},He={header:"Mainsail foot (F):",unit:"ft"},De={header:"Mizzen luff (H)",unit:"ft"},Ye={header:"Mizzen foot (B)",unit:"ft"},Ge={header:"Topsail perpendicular (TI):",unit:"ft"},Ue={header:"Topsail luff (TH):",unit:"ft"},Je=function(e){var a=e.id,t=Object(G.a)(function(e){return N()(Le(),e)}(a)),n=t.loading,l=t.error,o=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(l)return r.a.createElement("p",null,"Error :(TBD)");var i=o.handicap,c=[];return i.sailarea&&c.push(Object(ce.a)({},ze,{value:i.sailarea})),i.fore_triangle_height&&c.push(Object(ce.a)({},Fe,{value:i.fore_triangle_height})),i.fore_triangle_base&&c.push(Object(ce.a)({},Me,{value:i.fore_triangle_base})),i.main&&(i.main.head&&c.push(Object(ce.a)({},Ne,{value:i.main.head})),i.main.luff&&c.push(Object(ce.a)({},We,{value:i.main.luff})),i.main.foor&&c.push(Object(ce.a)({},He,{value:i.main.foot}))),i.mizzen&&(i.mizzen.luff&&c.push(Object(ce.a)({},De,{value:i.mizzen.luff})),i.mizzen.foor&&c.push(Object(ce.a)({},Ye,{value:i.mizzen.foot}))),i.topsail&&(i.topsail.luff&&c.push(Object(ce.a)({},Ue,{value:i.topsail.luff})),i.topsail.perpendicular&&c.push(Object(ce.a)({},Ge,{value:i.topsail.perpendicular}))),i.calculated_thcf&&c.push(Object(ce.a)({},Ae,{value:i.calculated_thcf})),c.map((function(e,a){return r.a.createElement(m.a.Item,{key:a,header:e.header,content:"".concat(e.value," ").concat(e.unit)})}))},Ke=t(248),qe=function(e){var a=e.albumKey;return a?r.a.createElement(Ke.a,{url:"".concat("https://oga.smugmug.com/frame/slideshow","?key=").concat(a,"&").concat("autoStart=1&captions=1&navigation=1&playButton=1&randomize=1&speed=3&transition=fade&transitionSpeed=2"),width:"800",height:"600",frameborder:"no",scrolling:"no"}):null};function $e(){var e=Object(z.a)(["{\n    boat(id:",") {\n        name prev_name albumKey\n        year approximate_year_of_build\n        place_built home_country home_port\n        sail_no ssr_no nhsr_no fishing_no call_sign\n        other_registries nsbr_no off_reg_no port_reg\n        short_desc full_desc\n        for_sale sale_text price\n        images{\n            uri\n            copyright\n            height width title alt\n        }\n        class{\n            name\n            rigType\n            mainsailType\n            hullType\n            genericType\n        }\n        builder{name}\n        construction_material\n        construction_method\n        beam\n        draft\n        length_on_waterline\n        length_overall\n        propulsion{\n            propellor_type\n            propellor_position\n            propellor_blades\n            engine_fuel\n            engine_position\n            engine_date\n            engine_make\n            engine_power\n            hp\n            previous_engine\n        }\n    }\n  }"]);return $e=function(){return e},e}var Ve={prev_name:{label:"Previous name/s"},place_built:{label:"Place built"},year:{label:"Year of Build"},approximate_year_of_build:{label:"Approximate Year of Build"},sail_no:{label:"Sail No."},home_country:{label:"Home Country"},ssr_no:{label:"Small Ships Registry no. (SSR)"},nhsr_no:{label:"National Register of Historic Vessels no. (NRHV)"},fishing_no:{label:"Fishing No."},call_sign:{label:"Call Sign"},other_registries:{label:"Other Registrations"},nsbr_no:{label:"National Small Boat Register"},off_reg_no:{label:"Official Registration"},port_reg:{label:"Port of Registry"}},Qe={construction_method:{label:"Construction method"},construction_material:{label:"Construction material"},class:{hullType:{label:"Hull Type"},genericType:{label:"Generic Type "}},builder:{name:{label:"Builder"}}},Xe={length_overall:{label:"Length on deck (LOD):",unit:"ft"},length_on_waterline:{label:"Length on waterline (LWL):",unit:"ft"},beam:{label:"Beam",unit:"ft"},draft:{label:"Draft",unit:"ft"}},Ze={engine_make:{label:"Engine make:"},engine_power:{label:"Engine power:"},engine_date:{label:"Engine date:"},engine_fuel:{label:"Engine fuel:"},previous_engine:{label:"Previous engine(s):"},propellor_blades:{label:"Propeller blades:"},propellor_type:{label:"Propeller type:"},propellor_position:{label:"Propeller position:"}},ea=function(e){var a=e.id,t=Object(G.a)(function(e){return N()($e(),e)}(a)),l=t.loading,o=t.error,i=t.data;Object(n.useEffect)((function(){i&&(document.title=i.boat.name)}));var h=Je({id:a});if(l)return r.a.createElement("p",null,"Loading...");if(o)return r.a.createElement("p",null,"Error :(TBD)");var g=i.boat,f=[{menuItem:"Registration and location",render:function(){return r.a.createElement(Re.a.Pane,null,r.a.createElement(m.a,null,r.a.createElement(q,{labels:Ve,boat:g})))}},{menuItem:"Construction",render:function(){return r.a.createElement(Re.a.Pane,null,r.a.createElement(m.a,null,r.a.createElement(q,{labels:Qe,boat:g})))}},{menuItem:"Hull",render:function(){return r.a.createElement(Re.a.Pane,null,r.a.createElement(m.a,null,r.a.createElement(q,{labels:Xe,boat:g})))}}];h.length>0&&f.push({menuItem:"Rig and Sails",render:function(){return r.a.createElement(Re.a.Pane,null,r.a.createElement(m.a,null,h))}});var p=q({labels:Ze,boat:g.propulsion});if(p.length>0&&f.push({menuItem:"Engine",render:function(){return r.a.createElement(Re.a.Pane,null,r.a.createElement(m.a,null,p))}}),g.full_desc&&f.unshift({menuItem:"Full Description",render:function(){return r.a.createElement(Re.a.Pane,{dangerouslySetInnerHTML:{__html:g.full_desc}})}}),g.for_sale){var b=g.sale_text;g.price&&(b+="<b>Price: </b>"+g.price),f.unshift({menuItem:"For Sale",render:function(){return r.a.createElement(Re.a.Pane,{dangerouslySetInnerHTML:{__html:b}})}})}return r.a.createElement(E.a,null,r.a.createElement(B,null),r.a.createElement(c.a,null,r.a.createElement(u.a,{columns:2,divided:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:10},r.a.createElement(s.a,{as:"h1"},g.name)),r.a.createElement(u.a.Column,{width:1},r.a.createElement(s.a,{as:"h1"},g.year))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:13},r.a.createElement(qe,{albumKey:g.albumKey})),r.a.createElement(u.a.Column,{width:3},r.a.createElement(s.a,{as:"h2"},"Details"),r.a.createElement(m.a,null,r.a.createElement(m.a.Item,{header:"Boat OGA no:",content:a}),r.a.createElement(m.a.Item,{header:"Mainsail type:",content:g.class.mainsailType}),r.a.createElement(m.a.Item,{header:"Rig type:",content:g.class.rigType}),r.a.createElement(m.a.Item,{header:"Home port or other location:",content:g.home_port}),r.a.createElement(Ie.a,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:g.short_desc}}))))),r.a.createElement(u.a.Row,{width:16},r.a.createElement(Re.a,{panes:f})))),r.a.createElement(d,null))},aa="http://localhost:4000/graphql";aa="https://oga-boats.herokuapp.com",console.log("using backend",aa);var ta=new F.c({link:Object(H.a)({uri:aa}),cache:new W.a}),na={"/":function(){return r.a.createElement(L,null)},"/browse":function(){return r.a.createElement(M.a,{client:ta},r.a.createElement(Be,null))},"/add":function(){return r.a.createElement(M.a,{client:ta},r.a.createElement(le,null))},"/boats/:id":function(e){var a=e.id;return r.a.createElement(M.a,{client:ta},r.a.createElement(ea,{id:a}))}},ra=function(){var e=P().loading,a=Object(f.useRoutes)(na);return e?r.a.createElement("div",null,"Loading..."):a};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var la=t(165),oa=t(250),ia=Object(oa.a)();o.a.render(r.a.createElement((function(e){var a=e.children,t=e.onRedirectCallback,l=void 0===t?T:t,o=Object(k.a)(e,["children","onRedirectCallback"]);console.log("Auth0Provider");var i=Object(n.useState)(),c=Object(b.a)(i,2),u=c[0],s=c[1],m=Object(n.useState)(),d=Object(b.a)(m,2),h=d[0],g=d[1],f=Object(n.useState)(),p=Object(b.a)(f,2),E=p[0],v=p[1],y=Object(n.useState)(!0),_=Object(b.a)(y,2),w=_[0],C=_[1],S=Object(n.useState)(!1),P=Object(b.a)(S,2),B=P[0],R=P[1];Object(n.useEffect)((function(){!function(){var e,a,t,n,r;O.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,O.a.awrap(j()(o));case 2:if(e=i.sent,v(e),!window.location.search.includes("code=")){i.next=10;break}return i.next=7,O.a.awrap(e.handleRedirectCallback());case 7:a=i.sent,t=a.appState,l(t);case 10:return i.next=12,O.a.awrap(e.isAuthenticated());case 12:if(n=i.sent,s(n),!n){i.next=19;break}return i.next=17,O.a.awrap(e.getUser());case 17:r=i.sent,g(r);case 19:C(!1);case 20:case"end":return i.stop()}}))}()}),[]);return r.a.createElement(x.Provider,{value:{isAuthenticated:u,user:h,loading:w,popupOpen:B,loginWithPopup:function(){var e,a,t=arguments;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},R(!0),n.prev=2,n.next=5,O.a.awrap(E.loginWithPopup(e));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.error(n.t0);case 10:return n.prev=10,R(!1),n.finish(10);case 13:return n.next=15,O.a.awrap(E.getUser());case 15:a=n.sent,g(a),s(!0);case 18:case"end":return n.stop()}}),null,null,[[2,7,10,13]])},handleRedirectCallback:function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),a.next=3,O.a.awrap(E.handleRedirectCallback());case 3:return a.next=5,O.a.awrap(E.getUser());case 5:e=a.sent,C(!1),s(!0),g(e);case 9:case"end":return a.stop()}}))},getIdTokenClaims:function(){return E.getIdTokenClaims.apply(E,arguments)},loginWithRedirect:function(){return E.loginWithRedirect.apply(E,arguments)},getTokenSilently:function(){return E.getTokenSilently.apply(E,arguments)},getTokenWithPopup:function(){return E.getTokenWithPopup.apply(E,arguments)},logout:function(){return E.logout.apply(E,arguments)}}},a)}),{domain:la.domain,client_id:la.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){ia.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[263,1,2]]]);
//# sourceMappingURL=main.28577b8b.chunk.js.map